
## 什么是⼩程序云开发？
微信云开发是微信团队联合腾讯云推出的专业的⼩程序开发服务。
开发者可以使⽤云开发快速开发⼩程序、⼩游戏、公众号⽹⻚等，并且原⽣打通微信开放能⼒。
开发者⽆需搭建服务器，可免鉴权直接使⽤平台提供的 API 进⾏业务开发。
⼩程序云开的三⼤核⼼：
- 云数据库
- 云存储
- 云函数
## ⼩程序云的优势有哪些？
- ⽆需搭建服务器，可快速构建⼩程序、公众号
  ⽆需搭建服务器，只需使⽤平台提供的各项能⼒，即可快速开发业务。
- 免登录、免鉴权调⽤微信开放服务
  ⽆需管理证书、签名、秘钥，直接调⽤微信 API 。复⽤微信私有协议及链路，保证业务安全 性。
- 统⼀开发多端应⽤
  ⽀持环境共享，⼀个后端环境可开发多个⼩程序、公众号、⽹⻚等，便捷复⽤业务代码与数 据
- 按量计费，成本更低
  ⽀持按量计费模式，后端资源根据业务流量⾃动扩容，先使⽤后付费，⽆需⽀付闲置成本。
## ⼩程序云开发有哪些核⼼概念？
- 数据库
  云开发提供了⼀个 JSON 数据库，顾名思义，数据库中的每条记录都是⼀个 JSON 格式的对象。⼀ 个数据库可以有多个集合（相当于关系型数据中的表），集合可看做⼀个 JSON 数组，数组中的每 个对象就是⼀条记录，记录的格式是 JSON 对象。
- 存储管理
  云开发提供了⼀块存储空间，提供了上传⽂件到云端、带权限管理的云端下载能⼒，开发者可以在 ⼩程序端和云函数端通过 API 使⽤云存储功能。
  在⼩程序端可以分别调⽤ wx.cloud.uploadFile 和 wx.cloud.downloadFile 完成上传和下 载云⽂件操作。
- 云函数
  云函数是⼀段运⾏在云端的代码，⽆需管理服务器，在开发⼯具内编写、⼀键上传部署即可运⾏后 端代码。 
  ⼩程序内提供了专⻔⽤于云函数调⽤的 API。开发者可以在云函数内使⽤ wx-server-sdk 提供的 getWXContext ⽅法获取到每次调⽤的上下⽂（ appid 、 openid 等），⽆需维护复杂的鉴权机 制，即可获取天然可信任的⽤户登录态（ openid ）。
- 云调⽤
  云调⽤是云开发提供的基于云函数使⽤⼩程序开放接⼝的能⼒，⽀持在云函数调⽤服务端开放接 ⼝，如发送模板消息、获取⼩程序码等操作都可以在云函数中完成
- 资源环境
  ⼀个环境对应⼀整套独⽴的云开发资源，包括数据库、存储空间、云函数等资源。各个环境是相互 独⽴的，⽤户开通云开发后即创建了⼀个环境，默认可拥有最多两个环境。在实际开发中，建议每 ⼀个正式环境都搭配⼀个测试环境，所有功能先在测试环境测试完毕后再上到正式环境。以初始可 创建的两个环境为例，建议⼀个创建为 test 测试环境，⼀个创建为 release 正式环境。
- HTTP API
  云开发资源也可以通过 HTTP 接⼝访问，即在⼩程序外访问，接⼝⻅HTTP API ⽂档。
## ⼩程序云和传统开发的区别？
**小程序云开发：**
- ⾼效开发
  只需编写核⼼逻辑代码，内建⼩程序⽤户鉴权，⽆需关注后端配置与部署，专注于业务开发。
- 节约成本
  按请求数和资源的运⾏收费，极⼤节约时间和成本，提供⼀定量免费额度使⽤
- 官⽅⽣态
  原⽣集成微信SDK，内置在⼩程序IDE，云相关API开箱即⽤，⼀站式操作。
- 稳定可靠
  底层资源由腾讯云提供专业⽀持，满⾜不同业务场景和需求，具备快速拓展能⼒，确保服务稳定， 数据安全。
**传统的开发：**
- 开发效率低
  过多的⾮业务逻辑需要处理，导致开发效率难以提升。
- 资源投⼊⾼
  ⽆论是物理机托管，还是云主机维护，都需要较多的⼈⼒物⼒投⼊。
- 产品上线慢
  前后端联调、资源存储、部署等操作繁杂，上线流程耗时⻓。
- ⽇常运维难
  需时刻关注环境运⾏状况，管理相关资源，运维难度⼤。
传统的开发模式需要有专⻔的后端提供接⼝，对于接⼝的维护成本是⽐较⾼的，除了购买相应的云服务 器以外还要安装数据库，存储数据，还要存储资源，还要做很多的其他内容，⽐如负载均衡，⾼并发， 备份容灾，安全服务，弹性伸缩等等，对于前端⼯程师来说是⼀个⾮常庞⼤的系统，最重要的还需要使 ⽤后端语⾔，⽐如java、python、nodejs等，学习成本很⾼。但是云开发，我们前端程序员只需要调⽤ 相应的SDK即可，除此之外还需要学习那三⼤核⼼，但是与传统的开发模式相⽐，学习成本低了很多很 多，⽽且还不⽤考虑负载均衡，备份容灾等问题

## 云开发如何初始化？默认初始化做了什么？
- 在⼩程序端使⽤云能⼒前，需先调⽤ wx.cloud.init ⽅法完成云能⼒初始化
- env 参数：
  - 决定接下来⼩程序发起的云开发调⽤（wx.cloud.xxx）会默认请求到哪个云环境的资源
  - 此处请填⼊环境 ID, 环境 ID 可打开云控制台查看
  - 如不填则使⽤默认环境（第⼀个创建的环境）
- traceUser：是否将⽤户的访问记录放到⽤户管理中，在控制台中可⻅，默认值为false
## 什么是查询指令？查询指令有什么作⽤？
- 假如我们要查询年龄⼤于3的待办事项，全等是⽆法⽤上的，只能⽤查询指令
- 查询指令均均暴露在db.command 对象上
  - eq：等于
  - neq：不等于
  - lt：⼩于
  - lte：⼩于等于
  - gt：⼤于
  - gte：⼤于等于
  - in：字段值在给定的数组内
  - nin：字段值不在给定的数组内